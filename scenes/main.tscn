[gd_scene load_steps=8 format=4 uid="uid://th16exrlifo7"]

[ext_resource type="Script" uid="uid://bt7i4jclnqlgg" path="res://scripts/tile_manager.gd" id="1_jyhfs"]
[ext_resource type="TileSet" uid="uid://crmpkh0hh442s" path="res://assets/tileset.tres" id="2_tbgi4"]
[ext_resource type="Script" uid="uid://bo2rdyvkhk80h" path="res://scripts/modulate_layer.gd" id="3_o6xl0"]
[ext_resource type="Script" uid="uid://os56o6omgsr8" path="res://scripts/debug_draw.gd" id="3_tbgi4"]
[ext_resource type="PackedScene" uid="uid://26ayckv2ve4y" path="res://prefabs/player.tscn" id="3_tefeu"]
[ext_resource type="Script" uid="uid://dnfbc4l3di13c" path="res://scripts/game_manager.gd" id="4_o6xl0"]
[ext_resource type="PackedScene" uid="uid://dy4pwe6o403kd" path="res://prefabs/key.tscn" id="4_tipki"]

[node name="Main" type="Node"]

[node name="World" type="Node2D" parent="."]

[node name="TileManager" type="Node2D" parent="World" node_paths=PackedStringArray("_wall_layer", "_floor_layer", "_visible_wall_layer", "_visible_floor_layer")]
script = ExtResource("1_jyhfs")
_bg_color = Color(0.0901961, 0.0823529, 0.180392, 1)
_wall_layer = NodePath("Tiles/WallLayer")
_floor_layer = NodePath("Tiles/FloorLayer")
_visible_wall_layer = NodePath("VisibleTiles/WallLayer")
_visible_floor_layer = NodePath("VisibleTiles/FloorLayer")

[node name="Tiles" type="Node2D" parent="World/TileManager"]

[node name="FloorLayer" type="TileMapLayer" parent="World/TileManager/Tiles"]
tile_map_data = PackedByteArray("AAABAAAAAwAAAAAAAAABAAEAAwAAAAAAAAAAAAEAAwAAAAAAAAD//wIAAwAAAAAAAAACAAAAAwAAAAAAAAADAAAAAwAAAAAAAAADAAEAAwAAAAAAAAACAAEAAwAAAAAAAAD//wEAAwAAAAAAAAD//wAAAwAAAAAAAAAAAAAAAwAAAAAAAAAEAAEAAwAAAAAAAAAEAAAAAwAAAAAAAAAEAAIAAwAAAAAAAAADAAIAAwAAAAAAAAACAAIAAwAAAAAAAAABAAIAAwAAAAAAAAAAAAIAAwAAAAAAAAAFAAIAAwAAAAAAAAACAAMAAwAAAAAAAAABAAMAAwAAAAAAAAAAAAMAAwAAAAAAAAD//wMAAwAAAAAAAAADAAMAAwAAAAAAAAD/////AwAAAAAAAAAAAP//AwAAAAAAAAABAP//AwAAAAAAAAACAP//AwAAAAAAAAADAP//AwAAAAAAAAAFAAEAAwAAAAAAAAAFAAMAAwAAAAAAAAAEAAMAAwAAAAAAAAAEAP//AwAAAAAAAAAFAP//AwAAAAAAAAAGAP//AwAAAAAAAAAFAAAAAwAAAAAAAAAGAAAAAwAAAAAAAAAGAAIAAwAAAAAAAAAGAAEAAwAAAAAAAAAHAAMAAwAAAAAAAAAGAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAADAAQAAwAAAAAAAAACAAQAAwAAAAAAAAABAAQAAwAAAAAAAAAAAAQAAwAAAAAAAAD//wQAAwAAAAAAAAAHAAAAAwAAAAAAAAAIAAAAAwAAAAAAAAAIAP//AwAAAAAAAAAHAP//AwAAAAAAAAAHAAEAAwAAAAAAAAAIAAEAAwAAAAAAAAAFAAQAAwAAAAAAAAAGAAQAAwAAAAAAAAAHAAIAAwAAAAAAAAAHAAQAAwAAAAAAAAAIAAQAAwAAAAAAAAAIAAIAAwAAAAAAAAAJAAAAAwAAAAAAAAAJAP//AwAAAAAAAAAJAAEAAwAAAAAAAAAJAAIAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAAIAAMAAwAAAAAAAAA=")
tile_set = ExtResource("2_tbgi4")

[node name="WallLayer" type="TileMapLayer" parent="World/TileManager/Tiles"]
tile_map_data = PackedByteArray("AAD///7/AQAJAAMAAAAAAP7/AQAJAAMAAAABAP7/AQAJAAMAAAACAP7/AQAJAAMAAAADAP7/AQAJAAMAAAAFAP7/AQAJAAMAAAAEAP7/AQAJAAMAAAAGAP7/AQAJAAMAAAAHAP7/AQAJAAMAAAAIAP7/AQAJAAMAAAD+//7/AQAGAAIAAAD+////AQALAAIAAAD+/wEAAQALAAIAAAD+/wIAAQALAAIAAAD+/wMAAQALAAIAAAD+/wQAAQALAAIAAAAJAP7/AQAJAAMAAAD+/wAAAQALAAIAAAAKAP7/AQAFAAIAAAAKAP//AQAIAAEAAAAKAAAAAQAIAAEAAAAKAAEAAQAFAAEAAAAKAAIAAQAJAAIAAAAKAAMAAQAFAAIAAAAKAAQAAQAIAAEAAAAJAAEAAQAKAAAAAAAIAAEAAQAKAAAAAAAHAAEAAQAKAAAAAAAGAAEAAQAIAAAAAAAGAAIAAQAIAAMAAAAHAAIAAQAJAAMAAAAIAAIAAQAJAAMAAAAJAAIAAQAFAAIAAAAJAAMAAQAIAAMAAAAKAAUAAQAFAAEAAAAJAAUAAQAKAAAAAAAIAAUAAQAKAAAAAAAGAAUAAQAKAAAAAAAFAAUAAQAKAAAAAAAHAAUAAQAKAAAAAAAEAAUAAQAKAAAAAAADAAUAAQAIAAAAAAD+/wUAAQAGAAEAAAD//wUAAQALAAAAAAD//wYAAQALAAIAAAD//wcAAQALAAIAAAACAAcAAQAKAAAAAAADAAcAAQAFAAEAAAADAAYAAQAIAAEAAAAEAAcAAQALAAIAAAADAAgAAQAJAAMAAAACAAgAAQAJAAMAAAD//wgAAQALAAMAAAD+/wgAAQAFAAMAAAD+/wcAAQAIAAEAAAD9/wIAAQAIAAEAAAD9/wEAAQAIAAEAAAD9/wAAAQAIAAEAAAD9//3/AQAIAAAAAAD+//3/AQAKAAAAAAD///3/AQAKAAAAAAAAAP3/AQAKAAAAAAABAP3/AQAKAAAAAAACAP3/AQAKAAAAAAADAP3/AQAKAAAAAAAEAP3/AQAKAAAAAAAFAP3/AQAKAAAAAAAGAP3/AQAKAAAAAAAHAP3/AQAKAAAAAAAIAP3/AQAKAAAAAAAJAP3/AQAKAAAAAAAKAP3/AQAKAAAAAAALAAAAAQALAAIAAAALAAEAAQALAAIAAAALAAIAAQALAAIAAAALAAMAAQALAAIAAAALAAQAAQALAAIAAAALAAUAAQALAAIAAAAKAAYAAQAFAAIAAAAJAAYAAQAJAAMAAAAIAAYAAQAJAAMAAAAHAAYAAQAJAAMAAAAGAAYAAQAJAAMAAAAFAAYAAQAKAAMAAAAEAAYAAQAGAAIAAAALAP7/AQALAAIAAAALAP//AQALAAIAAAD9/wMAAQAIAAEAAAD9/wQAAQAIAAEAAAD9//7/AQAIAAEAAAD9////AQAIAAEAAAD+/wYAAQAFAAIAAAD9/wUAAQAIAAEAAAD9/wYAAQAIAAMAAAAEAAgAAQALAAMAAAALAAYAAQALAAIAAAALAP3/AQALAAAAAAATABMAAQALAAIAAAASABIAAQAKAAIAAAASABEAAQALAAIAAAARABAAAQAKAAIAAAAQAA8AAQAKAAIAAAAPAA4AAQAEAAEAAAAPAA0AAQAHAAIAAAAOAAwAAQAKAAIAAAANAAsAAQAKAAIAAAANAAoAAQALAAAAAAAMAAkAAQAHAAIAAAALAAgAAQAKAAIAAAAKAAcAAQAIAAEAAAALAAkAAQAIAAMAAAAMAAoAAQAEAAEAAAAOAA0AAQAIAAMAAAARABEAAQAIAAEAAAASABMAAQAIAAEAAAARABIAAQAIAAMAAAAQABAAAQAIAAMAAAAPAA8AAQAIAAMAAAANAAwAAQAIAAMAAAAMAAsAAQAIAAMAAAAKAAgAAQAIAAMAAAALAAcAAQALAAIAAAAMAAgAAQALAAAAAAAOAAsAAQALAAAAAAAPAAwAAQALAAAAAAAQAA4AAQALAAAAAAARAA8AAQALAAAAAAASABAAAQALAAAAAAATABIAAQALAAAAAAATABkAAQAAAAIAAAATABgAAQAHAAIAAAATABcAAQALAAIAAAATABYAAQALAAIAAAATABUAAQALAAIAAAATABQAAQALAAIAAAASABYAAQAIAAEAAAASABUAAQAIAAEAAAASABQAAQAIAAEAAAD//xYAAQAEAAEAAAAAABYAAQAKAAAAAAABABYAAQAKAAAAAAACABYAAQAKAAAAAAADABYAAQAKAAAAAAAEABYAAQAKAAAAAAAFABYAAQAKAAAAAAAGABYAAQAKAAAAAAAHABYAAQAFAAEAAAAIABYAAQALAAIAAAAJABcAAQAFAAAAAAAKABcAAQAKAAAAAAALABcAAQAKAAAAAAAMABcAAQAKAAAAAAANABcAAQAKAAAAAAAOABcAAQAKAAAAAAAPABcAAQAKAAAAAAAQABcAAQAKAAAAAAARABcAAQAKAAAAAAASABcAAQAFAAEAAAD//xcAAQAIAAMAAAAAABcAAQAJAAMAAAABABcAAQAJAAMAAAACABcAAQAJAAMAAAADABcAAQAJAAMAAAAEABcAAQAJAAMAAAAFABcAAQAJAAMAAAAGABcAAQAJAAMAAAAHABcAAQAJAAMAAAAIABcAAQAGAAMAAAAJABgAAQAIAAMAAAAKABgAAQAJAAMAAAALABgAAQAJAAMAAAAMABgAAQAJAAMAAAANABgAAQAJAAMAAAAOABgAAQAJAAMAAAAPABgAAQAJAAMAAAAQABgAAQAJAAMAAAARABgAAQAJAAMAAAASABgAAQAJAAMAAAD8/wsAAQAAAAAAAAD9/wwAAQALAAAAAAD9/w0AAQALAAIAAAD9/w4AAQALAAIAAAD9/w8AAQALAAIAAAD+/xAAAQALAAAAAAD+/xEAAQALAAIAAAD+/xIAAQALAAIAAAD+/xMAAQALAAIAAAD+/xQAAQALAAIAAAD//xUAAQADAAAAAAD9/wkAAQALAAMAAAABAAcAAQAIAAAAAAABAAgAAQAIAAMAAAABAAwAAQAIAAAAAAABAA0AAQAIAAEAAAABAA4AAQAIAAMAAAACAAwAAQALAAAAAAACAA0AAQALAAIAAAACAA4AAQAGAAMAAAAIAAwAAQALAAAAAAAIAA0AAQAGAAMAAAAHAAwAAQAIAAAAAAAHAA0AAQAIAAMAAAAGABIAAQAKAAAAAAAHABIAAQAKAAAAAAAHABMAAQAFAAIAAAAGABMAAQAJAAMAAAAFABIAAQAEAAEAAAAFABMAAQAIAAMAAAAIABMAAQALAAIAAAAIABIAAQALAAAAAAAIABQAAQALAAIAAAAHABQAAQAIAAEAAAAHABUAAQAIAAEAAAAIABUAAQALAAIAAAAJAA0AAQAFAAAAAAAJAA4AAQAIAAMAAAAKAA4AAQALAAMAAAAKAA0AAQALAAAAAAD7/wkAAQAJAAMAAAD6/wkAAQAJAAMAAAD5/wkAAQAJAAMAAAD4/wkAAQAJAAMAAAD2/wgAAQAFAAAAAAD1/wgAAQACAAMAAAD0/wgAAQACAAMAAADz/wgAAQACAAMAAADy/wgAAQACAAMAAAD4/wgAAQAKAAAAAAD5/wgAAQAKAAAAAAD8/wgAAQAKAAAAAAD9/wgAAQAGAAAAAAD7/wgAAQAKAAAAAAD6/wgAAQAKAAAAAAD3/wkAAQAJAAMAAAD2/wkAAQAIAAMAAAD3/wgAAQAKAAAAAAD8/wwAAQAEAAEAAAD8/w0AAQAIAAEAAAD8/w4AAQAFAAEAAAD7/w4AAQAKAAAAAAD6/w4AAQAKAAAAAAD5/w4AAQAIAAAAAADx/w4AAQAAAAEAAADw/w0AAQAIAAMAAADw/wwAAQAIAAEAAADw/wsAAQAIAAEAAADw/woAAQAIAAEAAADw/wkAAQAIAAAAAADx/wkAAQAHAAEAAADx/wgAAQABAAAAAADx/woAAQALAAIAAADx/wsAAQALAAIAAADx/wwAAQALAAIAAADx/w0AAQAHAAIAAADy/xAAAQALAAAAAADy/xEAAQAHAAIAAADy/xIAAQAAAAEAAADy/xMAAQABAAIAAADz/xMAAQACAAMAAAD1/xMAAQACAAMAAAD0/xMAAQACAAMAAAD2/xMAAQACAAMAAAD3/xMAAQACAAMAAAD4/xMAAQACAAMAAAD5/xMAAQADAAIAAAD5/xIAAQABAAAAAAD6/xIAAQADAAIAAAD6/xEAAQAEAAIAAAD6/xAAAQAFAAIAAAD5/w8AAQAIAAEAAADx/w8AAQAAAAEAAADx/xAAAQAEAAEAAADx/xEAAQAIAAMAAAD5/xAAAQAIAAMAAAD6/w8AAQAJAAIAAAD7/w8AAQAJAAIAAAD7/xAAAQAJAAIAAAD7/xEAAQAJAAMAAAD8/w8AAQAJAAIAAAD9/xAAAQAGAAEAAAD9/xEAAQAFAAIAAAD8/xEAAQAJAAMAAAD8/xAAAQAJAAIAAAD9/xIAAQAIAAEAAAD9/xMAAQAIAAEAAAD+/xUAAQAGAAMAAAD9/xQAAQAIAAEAAAD9/xUAAQAIAAMAAAADAA4AAQADAAAAAAADAA8AAQABAAIAAAAEAA8AAQADAAAAAAAEABAAAQABAAIAAAAFABAAAQADAAAAAAAFABEAAQAAAAEAAAD8/wkAAQAKAAMAAAD8/woABQAAAAAAAAAAAAgABQAAAAAAAAAFAAcABQAAAAAAAAA=")
tile_set = ExtResource("2_tbgi4")

[node name="VisibleTiles" type="Node2D" parent="World/TileManager"]

[node name="FloorLayer" type="TileMapLayer" parent="World/TileManager/VisibleTiles"]
visible = false
tile_set = ExtResource("2_tbgi4")
collision_enabled = false
script = ExtResource("3_o6xl0")

[node name="WallLayer" type="TileMapLayer" parent="World/TileManager/VisibleTiles"]
visible = false
tile_set = ExtResource("2_tbgi4")
collision_enabled = false
script = ExtResource("3_o6xl0")

[node name="Key" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(51, 0)

[node name="Key2" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(93, -2)

[node name="Key7" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(68, 29)

[node name="Key8" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(10, 60)

[node name="Key9" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(41, 66)

[node name="Key3" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(132, 0)

[node name="Key4" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(37, 41)

[node name="Key5" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(83, 59)

[node name="Key6" parent="World/TileManager" instance=ExtResource("4_tipki")]
position = Vector2(127, 67)

[node name="DebugDraw" type="Node2D" parent="World" node_paths=PackedStringArray("_tile_manager")]
script = ExtResource("3_tbgi4")
_tile_manager = NodePath("../TileManager")

[node name="Player" parent="World" node_paths=PackedStringArray("_tile_manager") instance=ExtResource("3_tefeu")]
_tile_manager = NodePath("../TileManager")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="GameManager" type="Node" parent="."]
script = ExtResource("4_o6xl0")

[node name="Inventory" type="Node" parent="."]
