[gd_scene load_steps=6 format=4 uid="uid://th16exrlifo7"]

[ext_resource type="Script" uid="uid://bt7i4jclnqlgg" path="res://scripts/tile_manager.gd" id="1_jyhfs"]
[ext_resource type="TileSet" uid="uid://crmpkh0hh442s" path="res://assets/tileset.tres" id="2_tbgi4"]
[ext_resource type="Script" uid="uid://os56o6omgsr8" path="res://scripts/debug_draw.gd" id="3_tbgi4"]
[ext_resource type="PackedScene" uid="uid://26ayckv2ve4y" path="res://prefabs/player.tscn" id="3_tefeu"]
[ext_resource type="Script" uid="uid://dnfbc4l3di13c" path="res://scripts/game_manager.gd" id="4_o6xl0"]

[node name="Main" type="Node"]

[node name="World" type="Node2D" parent="."]

[node name="TileManager" type="Node2D" parent="World" node_paths=PackedStringArray("_wall_layer", "_floor_layer", "_visible_wall_layer", "_visible_floor_layer")]
script = ExtResource("1_jyhfs")
_bg_color = Color(0.0901961, 0.0823529, 0.180392, 1)
_wall_layer = NodePath("Tiles/WallLayer")
_floor_layer = NodePath("Tiles/FloorLayer")
_visible_wall_layer = NodePath("VisibleTiles/WallLayer")
_visible_floor_layer = NodePath("VisibleTiles/FloorLayer")

[node name="Tiles" type="Node2D" parent="World/TileManager"]

[node name="FloorLayer" type="TileMapLayer" parent="World/TileManager/Tiles"]
tile_map_data = PackedByteArray("AAABAAAAAwAAAAAAAAABAAEAAwAAAAAAAAAAAAEAAwAAAAAAAAD//wIAAwAAAAAAAAACAAAAAwAAAAAAAAADAAAAAwAAAAAAAAADAAEAAwAAAAAAAAACAAEAAwAAAAAAAAD//wEAAwAAAAAAAAD//wAAAwAAAAAAAAAAAAAAAwAAAAAAAAAEAAEAAwAAAAAAAAAEAAAAAwAAAAAAAAAEAAIAAwAAAAAAAAADAAIAAwAAAAAAAAACAAIAAwAAAAAAAAABAAIAAwAAAAAAAAAAAAIAAwAAAAAAAAAFAAIAAwAAAAAAAAACAAMAAwAAAAAAAAABAAMAAwAAAAAAAAAAAAMAAwAAAAAAAAD//wMAAwAAAAAAAAADAAMAAwAAAAAAAAD/////AwAAAAAAAAAAAP//AwAAAAAAAAABAP//AwAAAAAAAAACAP//AwAAAAAAAAADAP//AwAAAAAAAAAFAAEAAwAAAAAAAAAFAAMAAwAAAAAAAAAEAAMAAwAAAAAAAAAEAP//AwAAAAAAAAAFAP//AwAAAAAAAAAGAP//AwAAAAAAAAAFAAAAAwAAAAAAAAAGAAAAAwAAAAAAAAAGAAIAAwAAAAAAAAAGAAEAAwAAAAAAAAAHAAMAAwAAAAAAAAAGAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAADAAQAAwAAAAAAAAACAAQAAwAAAAAAAAABAAQAAwAAAAAAAAAAAAQAAwAAAAAAAAD//wQAAwAAAAAAAAAHAAAAAwAAAAAAAAAIAAAAAwAAAAAAAAAIAP//AwAAAAAAAAAHAP//AwAAAAAAAAAHAAEAAwAAAAAAAAAIAAEAAwAAAAAAAAAFAAQAAwAAAAAAAAAGAAQAAwAAAAAAAAAHAAIAAwAAAAAAAAAHAAQAAwAAAAAAAAAIAAQAAwAAAAAAAAAIAAMAAwAAAAAAAAAIAAIAAwAAAAAAAAAJAAAAAwAAAAAAAAAJAP//AwAAAAAAAAAJAAEAAwAAAAAAAAAJAAIAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAA=")
tile_set = ExtResource("2_tbgi4")

[node name="WallLayer" type="TileMapLayer" parent="World/TileManager/Tiles"]
tile_map_data = PackedByteArray("AAD///7/AQAJAAMAAAAAAP7/AQAJAAMAAAABAP7/AQAJAAMAAAACAP7/AQAJAAMAAAADAP7/AQAJAAMAAAAFAP7/AQAJAAMAAAAEAP7/AQAJAAMAAAAGAP7/AQAJAAMAAAAHAP7/AQAJAAMAAAAIAP7/AQAJAAMAAAD+//7/AQAGAAIAAAD+////AQALAAIAAAD+/wEAAQALAAIAAAD+/wIAAQALAAIAAAD+/wMAAQALAAIAAAD+/wQAAQALAAIAAAAJAP7/AQAJAAMAAAD+/wAAAQALAAIAAAAKAP7/AQAFAAIAAAAKAP//AQAIAAEAAAAKAAAAAQAIAAEAAAAKAAEAAQAFAAEAAAAKAAIAAQAJAAIAAAAKAAMAAQAFAAIAAAAKAAQAAQAIAAEAAAAJAAEAAQAKAAAAAAAIAAEAAQAKAAAAAAAHAAEAAQAKAAAAAAAGAAEAAQAIAAAAAAAGAAIAAQAIAAMAAAAHAAIAAQAJAAMAAAAIAAIAAQAJAAMAAAAJAAIAAQAFAAIAAAAJAAMAAQAIAAMAAAAKAAUAAQAFAAEAAAAJAAUAAQAKAAAAAAAIAAUAAQAKAAAAAAAGAAUAAQAKAAAAAAAFAAUAAQAKAAAAAAAHAAUAAQAKAAAAAAAEAAUAAQAKAAAAAAADAAUAAQAIAAAAAAD+/wUAAQAGAAEAAAD//wUAAQALAAAAAAD//wYAAQALAAIAAAD//wcAAQALAAIAAAACAAcAAQAKAAAAAAADAAcAAQAFAAEAAAADAAYAAQAIAAEAAAAEAAcAAQALAAIAAAADAAgAAQAJAAMAAAACAAgAAQAJAAMAAAD//wgAAQALAAMAAAD+/wgAAQAIAAMAAAD+/wcAAQAIAAEAAAD9/wIAAQAIAAEAAAD9/wEAAQAIAAEAAAD9/wAAAQAIAAEAAAD9//3/AQAIAAAAAAD+//3/AQAKAAAAAAD///3/AQAKAAAAAAAAAP3/AQAKAAAAAAABAP3/AQAKAAAAAAACAP3/AQAKAAAAAAADAP3/AQAKAAAAAAAEAP3/AQAKAAAAAAAFAP3/AQAKAAAAAAAGAP3/AQAKAAAAAAAHAP3/AQAKAAAAAAAIAP3/AQAKAAAAAAAJAP3/AQAKAAAAAAAKAP3/AQAKAAAAAAALAAAAAQALAAIAAAALAAEAAQALAAIAAAALAAIAAQALAAIAAAALAAMAAQALAAIAAAALAAQAAQALAAIAAAALAAUAAQALAAIAAAAKAAYAAQAFAAIAAAAJAAYAAQAJAAMAAAAIAAYAAQAJAAMAAAAHAAYAAQAJAAMAAAAGAAYAAQAJAAMAAAAFAAYAAQAJAAMAAAAEAAYAAQAGAAIAAAALAP7/AQALAAIAAAALAP//AQALAAIAAAD9/wMAAQAIAAEAAAD9/wQAAQAIAAEAAAD9//7/AQAIAAEAAAD9////AQAIAAEAAAD+/wYAAQAFAAIAAAD9/wUAAQAIAAEAAAD9/wYAAQAIAAMAAAAEAAgAAQALAAMAAAALAAYAAQALAAIAAAALAP3/AQALAAAAAAATABMAAQALAAIAAAASABIAAQAKAAIAAAASABEAAQALAAIAAAARABAAAQAKAAIAAAAQAA8AAQAKAAIAAAAPAA4AAQAEAAEAAAAPAA0AAQAHAAIAAAAOAAwAAQAKAAIAAAANAAsAAQAKAAIAAAANAAoAAQALAAAAAAAMAAkAAQAHAAIAAAALAAgAAQAKAAIAAAAKAAcAAQAIAAEAAAALAAkAAQAIAAMAAAAMAAoAAQAEAAEAAAAOAA0AAQAIAAMAAAARABEAAQAIAAEAAAASABMAAQAIAAEAAAARABIAAQAIAAMAAAAQABAAAQAIAAMAAAAPAA8AAQAIAAMAAAANAAwAAQAIAAMAAAAMAAsAAQAIAAMAAAAKAAgAAQAIAAMAAAALAAcAAQALAAIAAAAMAAgAAQALAAAAAAAOAAsAAQALAAAAAAAPAAwAAQALAAAAAAAQAA4AAQALAAAAAAARAA8AAQALAAAAAAASABAAAQALAAAAAAATABIAAQALAAAAAAATABkAAQAAAAIAAAATABgAAQAHAAIAAAATABcAAQALAAIAAAATABYAAQALAAIAAAATABUAAQALAAIAAAATABQAAQALAAIAAAASABYAAQAIAAEAAAASABUAAQAIAAEAAAASABQAAQAIAAEAAAD//xYAAQAEAAEAAAAAABYAAQAKAAAAAAABABYAAQAKAAAAAAACABYAAQAKAAAAAAADABYAAQAKAAAAAAAEABYAAQAKAAAAAAAFABYAAQAKAAAAAAAGABYAAQAKAAAAAAAHABYAAQAFAAEAAAAIABYAAQALAAIAAAAJABcAAQAFAAAAAAAKABcAAQAKAAAAAAALABcAAQAKAAAAAAAMABcAAQAKAAAAAAANABcAAQAKAAAAAAAOABcAAQAKAAAAAAAPABcAAQAKAAAAAAAQABcAAQAKAAAAAAARABcAAQAKAAAAAAASABcAAQAFAAEAAAD//xcAAQAIAAMAAAAAABcAAQAJAAMAAAABABcAAQAJAAMAAAACABcAAQAJAAMAAAADABcAAQAJAAMAAAAEABcAAQAJAAMAAAAFABcAAQAJAAMAAAAGABcAAQAJAAMAAAAHABcAAQAJAAMAAAAIABcAAQAGAAMAAAAJABgAAQAIAAMAAAAKABgAAQAJAAMAAAALABgAAQAJAAMAAAAMABgAAQAJAAMAAAANABgAAQAJAAMAAAAOABgAAQAJAAMAAAAPABgAAQAJAAMAAAAQABgAAQAJAAMAAAARABgAAQAJAAMAAAASABgAAQAJAAMAAAD8/wkAAQABAAAAAAD8/woAAQAAAAEAAAD8/wsAAQAAAAIAAAD9/wwAAQAAAAAAAAD9/w0AAQAAAAEAAAD9/w4AAQAAAAEAAAD9/w8AAQAAAAIAAAD+/xAAAQAAAAAAAAD+/xEAAQAAAAEAAAD+/xIAAQAAAAEAAAD+/xMAAQAAAAEAAAD+/xQAAQAAAAIAAAD//xUAAQAAAAAAAAD9/wkAAQADAAMAAAABAAcAAQAIAAAAAAABAAgAAQAIAAMAAAABAAwAAQAIAAAAAAABAA0AAQAIAAEAAAABAA4AAQAIAAMAAAACAAwAAQALAAAAAAACAA0AAQALAAIAAAACAA4AAQALAAMAAAAIAAwAAQALAAAAAAAIAA0AAQAGAAMAAAAHAAwAAQAIAAAAAAAHAA0AAQAIAAMAAAAGABIAAQAKAAAAAAAHABIAAQAKAAAAAAAHABMAAQAFAAIAAAAGABMAAQAJAAMAAAAFABIAAQAIAAAAAAAFABMAAQAIAAMAAAAIABMAAQALAAIAAAAIABIAAQALAAAAAAAIABQAAQALAAIAAAAHABQAAQAIAAEAAAAHABUAAQAIAAEAAAAIABUAAQALAAIAAAAJAA0AAQAFAAAAAAAJAA4AAQAIAAMAAAAKAA4AAQALAAMAAAAKAA0AAQALAAAAAAA=")
tile_set = ExtResource("2_tbgi4")

[node name="VisibleTiles" type="Node2D" parent="World/TileManager"]

[node name="FloorLayer" type="TileMapLayer" parent="World/TileManager/VisibleTiles"]
visible = false
tile_set = ExtResource("2_tbgi4")
collision_enabled = false

[node name="WallLayer" type="TileMapLayer" parent="World/TileManager/VisibleTiles"]
visible = false
tile_set = ExtResource("2_tbgi4")
collision_enabled = false

[node name="DebugDraw" type="Node2D" parent="World" node_paths=PackedStringArray("_tile_manager")]
script = ExtResource("3_tbgi4")
_tile_manager = NodePath("../TileManager")

[node name="Player" parent="World" node_paths=PackedStringArray("_tile_manager") instance=ExtResource("3_tefeu")]
_tile_manager = NodePath("../TileManager")

[node name="Node" type="Node" parent="."]
script = ExtResource("4_o6xl0")
